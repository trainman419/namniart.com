<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type" />
  <title>Lake Denman - The Ruby Koans</title>
  <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
  <!-- Homepage CSS -->
  <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
</head>

<body id="post">
  <div id='content-wrapper'>
    <h1 id='page-title'>
      <a href="/">
        Lake Denman
      </a>
    </h1>

    <div id='content'>
      <h2>The Ruby Koans</h2>
      <p>Jim Weirich and Joe O&#8217;Brien over at edgecase have done a good job programming <a href='http://github.com/edgecase/ruby_koans/tree/master'>The Ruby Koans</a>, the challenging and fun path to Ruby enlightenment.</p>

<p>Imagine that you are student in search of the enlightened path. The Ruby Koan is your Sensei. You must follow the rules that have been placed before you.</p>

<p>The Ruby Koans is mostly full of short, educating, and interesting problems. Do not, however, expect to solve The Ruby Koans in the length of a day. Mastering the Ruby Koans may take you several days to complete.</p>

<p>Just relax and take your time while focusing on the challenges at hand. <code>irb</code> has proven to be an essential tool while learning the behavior of ruby. <code>ri</code> came in usefully as I needed to look up documentation from time to time.</p>

<h2 id='the_first_koans_backtrace'>The first koan&#8217;s backtrace</h2>

<p>Lets say that you have a brand new, fresh copy of The Ruby Koans. Run the first koan by changing into the directory and running <code>rake</code>.</p>

<pre><code>    ruby_koans$: rake
    (in /Users/lake/Projects/ruby_koans)
    cd koans
    /opt/ruby-enterprise-1.8.6-20090201/bin/ruby path_to_enlightenment.rb

    Thinking AboutAsserts
      test_assert_truth has damaged your karma.

    You have not yet reached enlightenment ...
    &lt;false&gt; is not true.

    Please meditate on the following code:
    ./about_basics.rb:10:in `test_assert_truth&#39;
    path_to_enlightenment.rb:27


    mountains are merely mountains</code></pre>

<h3 id='the_ruby_koan_lifecycle'>The Ruby Koan Lifecycle</h3>

<p>The Ruby Koan begins when <code>rake</code> is typed at the prompt the <code>:default</code> is set to <code>:walk_the_path</code>. The Rakefile is below:</p>
<div>
  <pre>
    <code class='ruby'># ...
task :default =&gt; :walk_the_path

task :walk_the_path do
  cd 'koans'
  ruby 'path_to_enlightenment.rb'
end
#...</code>
  </pre>
</div>
<p>It starts by telling ruby to execute the <a href='http://github.com/edgecase/ruby_koans/blob/9e799a71784e1112a048eb61b5a3acdf33418398/koans/path_to_enlightenment.rb'>path_to_enlightenment.rb</a> file. Notice that there are 24 files being required. These files define the koans that are used for enlightenment.</p>

<p>The Ruby Koan <code>require</code>&#8217;s the <a href='http://github.com/edgecase/ruby_koans/blob/9e799a71784e1112a048eb61b5a3acdf33418398/koans/about_basics.rb#L9-11'>about_basics.rb</a> file first and, while requiring, fails at line 10. We will come back to the failure in a few moments.</p>

<p>First, let&#8217;s take a look at what is actually going on in the in the background. Notice line 4 from <code>path_to_enlightenment.rb</code>? The <code>edgecase.rb</code> file is required which sets up a few necessary components:</p>

<ul>
<li><a href='http://github.com/edgecase/ruby_koans/blob/9e799a71784e1112a048eb61b5a3acdf33418398/koans/edgecase.rb#L6-7'><code>FillMeInError</code> class that inherits from <code>StandardError</code></a></li>

<li><span>Methods for default answers</span></li>

<li><a href='http://github.com/edgecase/ruby_koans/blob/9e799a71784e1112a048eb61b5a3acdf33418398/koans/edgecase.rb#L18-95'>A Sensei class responsible for accumulating and reporting the koan results is defined</a></li>

<li><a href='http://github.com/edgecase/ruby_koans/blob/9e799a71784e1112a048eb61b5a3acdf33418398/koans/edgecase.rb#L97-196'>A Koan class responsible for running the koans</a></li>

<li><a href='http://github.com/edgecase/ruby_koans/blob/9e799a71784e1112a048eb61b5a3acdf33418398/koans/edgecase.rb#L199-208'>A END code block that runs when the script exits</a></li>
</ul>

<p>Let&#8217;s take a closer look at the END code block&#8230;</p>

<h3 id='beginning_at_the_end'>Beginning at the END</h3>

<p>Find the END block at the end of <a href='http://github.com/edgecase/ruby_koans/blob/9e799a71784e1112a048eb61b5a3acdf33418398/koans/edgecase.rb#L199-208'>edgecase.rb</a> (it&#8217;s at the bottom and highlighted.)</p>

<p>In case you do not know, the END code block will run when ruby successfully ends execution:</p>
<div>
  <pre>
    <code class='ruby'>ruby -e &quot;END { puts 'But I didn\'t shoot the deputy' }; puts 'I shot the sheriff'&quot;
#=&gt; I shot the sheriff
#=&gt; But I didn't shoot the deputy</code>
  </pre>
</div>
      <a href="/">&laquo; Home</a>
    </div>

    <div id= 'footer'>
      <a href="mailto:lake@lakedenman.com">Email</a> | 
      <a href="skype:call?name=lakedenman">Skype</a> | 
      <a href="http://twitter.com/ldenman">Twitter</a> |
      <a href="http://github.com/ldenman">Github</a>
    </div>
    
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-350849-5");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </div>
</body>

</html>