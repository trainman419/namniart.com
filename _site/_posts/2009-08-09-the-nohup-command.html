<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type" />
  <title>Lake Denman - How to Start a Background Job</title>
  <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
  <!-- Homepage CSS -->
  <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
</head>

<body id="post">
  <div id='content-wrapper'>
    <h1 id='page-title'>
      <a href="/">
        Lake Denman
      </a>
    </h1>

    <div id='content'>
      <h2>How to Start a Background Job</h2>
      <p>The <code>nohup</code> command is handy when you need to run a command even after you log out of your terminal session.</p>

<p>For an example, I will say we have an important task that needs to run <div>
  <pre>
    <code class='bash'># This will boot ruby, print a message, and then sleep for 60 seconds
$ nohup ruby -e &quot;puts 'Doing Important Work...'; sleep(60)&quot;</code>
  </pre>
</div></p>

<p>After the command is issued, <code>nohup</code> redirects the command output to a <code>nohup.out</code> file in the home directory. During the minute that the command runs, I close my terminal window and open a new window. I run the following command:</p>
<div>
  <pre>
    <code class='bash'>$ ps ax | grep &quot;Doing Important Work&quot;

  32961 s001  S      0:00.01 ruby -e puts 'Doing Important Work...'; sleep(60)</code>
  </pre>
</div>
<p>From the above, I see that the command is still running even when I log out of the session. Pretty cool!</p>

<p>Slightly related is the note that if you just want to run a program and continue using the same terminal (and realizing that if you logout, the process will be killed) then use an ampersand(&amp;):</p>
<div>
  <pre>
    <code class='bash'>$ ruby -e &quot;puts 'Doing Important Work...'; sleep(60)&quot; &amp;</code>
  </pre>
</div>
<p>The ampersand will make the command run as a background job. Finally, if you want to run the command in the background and be able to logout without killing the process, issue this:</p>
<div>
  <pre>
    <code class='bash'>$ nohup ruby -e &quot;puts 'Doing Important Work...'; sleep(60)&quot; &amp;</code>
  </pre>
</div>
<p>For alternatives to background jobs, see: Basically Tech&#8217;s <a href='http://www.basicallytech.com/blog/index.php?/archives/70-Shell-stuff-job-control-and-screen.html'>Shell stuff, job control, and screen.</a></p>
      <a href="/">&laquo; Home</a>
    </div>

    <div id= 'footer'>
      <a href="mailto:lake@lakedenman.com">Email</a> | 
      <a href="skype:call?name=lakedenman">Skype</a> | 
      <a href="http://twitter.com/ldenman">Twitter</a> |
      <a href="http://github.com/ldenman">Github</a>
    </div>
    
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-350849-5");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </div>
</body>

</html>